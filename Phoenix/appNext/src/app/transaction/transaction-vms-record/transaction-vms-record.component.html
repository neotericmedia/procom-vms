<div class="row" *ngIf="transaction">
  <div class="col-lg-12">
    <h4>VMS Processed Record</h4>
    <table class="table">
      <thead>
        <tr>
          <th>Import Date</th>
          <th>VMS WorkOrder</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Type-1</th>
          <th>Rate-1</th>
          <th>Units-1</th>
          <th>Type-2</th>
          <th>Rate-2</th>
          <th>Units-2</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>TRN. Reference</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngIf="transaction.VmsProcessedRecord">
          <td title="{{transaction.VmsProcessedRecord.ImportDate | date:html.phxConstants.DateFormat.mediumDate}}">
            <span>{{transaction.VmsProcessedRecord.ImportDate|
              date:html.phxConstants.DateFormat.mediumDate}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.WorkOrderReference}}">
            <span>{{transaction.VmsProcessedRecord.WorkOrderReference}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.FirstName}}">
            <span>{{transaction.VmsProcessedRecord.FirstName}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.LastName}}">
            <span>{{transaction.VmsProcessedRecord.LastName}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.V1RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text'}}">
            <span>{{transaction.VmsProcessedRecord.V1RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id':
              'text'}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.V1BillRate | number : '1.2-2'}}">
            <span>{{transaction.VmsProcessedRecord.V1BillRate | number : '1.2-2'}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.V1BillUnits | number : '1.2-2'}}">
            <span>{{transaction.VmsProcessedRecord.V1BillUnits | number : '1.2-2'}}</span>
          </td>
          <td title="{{(transaction.VmsProcessedRecord.V2RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text') || 'N/A'}}">
            <span>{{(transaction.VmsProcessedRecord.V2RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text'
              ) || 'N/A'}}</span>
          </td>
          <td title="{{(transaction.VmsProcessedRecord.V2BillRate | number : '1.2-2') || 'N/A'}}">
            <span>{{(transaction.VmsProcessedRecord.V2BillRate | number : '1.2-2') || 'N/A'}}</span>
          </td>
          <td title="{{(transaction.VmsProcessedRecord.V2BillUnits | number : '1.2-2') || 'N/A'}}">
            <span>{{(transaction.VmsProcessedRecord.V2BillUnits | number : '1.2-2') || 'N/A'}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.StartDate | date:html.phxConstants.DateFormat.mediumDate}}">
            <span>{{transaction.VmsProcessedRecord.StartDate| date:html.phxConstants.DateFormat.mediumDate}}
            </span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.EndDate | date:html.phxConstants.DateFormat.mediumDate}}">
            <span>{{transaction.VmsProcessedRecord.EndDate| date:html.phxConstants.DateFormat.mediumDate}}</span>
          </td>
          <td title="{{transaction.VmsProcessedRecord.InvoiceReference}}">
            <span>{{transaction.VmsProcessedRecord.InvoiceReference}}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    <h4>Work Order Mapping</h4>
    <table class="table">
      <thead>
        <tr>
          <th>Work Order</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Type-1</th>
          <th>Rate-1</th>
          <th>Units-1</th>
          <th>Type-2</th>
          <th>Rate-2</th>
          <th>Units-2</th>
          <th>TrnStartDate</th>
          <th>TrnEndDate</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngIf="transaction.VmsProcessedRecord">
          <tr class="vms-child-table-body" *ngFor="let wov of transaction.VmsProcessedRecord.VmsProcessedRecordWorkOrderVersionAllocations">
            <td title="{{wov.WorkOrderVersionNumber ? wov.WorkOrderVersionNumber : 'N/A'}}">
              <span>{{wov.WorkOrderVersionNumber ? wov.WorkOrderVersionNumber : 'N/A'}}</span>
            </td>
            <td title="{{wov.WOVFirstName || 'N/A'}}">
              <span>{{wov.WOVFirstName || 'N/A'}}</span>
            </td>
            <td title="{{wov.WOVLastName || 'N/A'}}">
              <span>{{wov.WOVLastName || 'N/A'}}</span>
            </td>
            <td title="{{wov.V1RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text'}}">
              {{wov.V1RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text'}}
            </td>
            <td title="{{wov.V1BillRate | number : '1.2-2'}}">
              {{wov.V1BillRate | number : '1.2-2'}}
            </td>
  
            <td title="{{(wov.V1BillUnits | number : '1.2-2') || 'N/A'}}">
              {{(wov.V1BillUnits | number : '1.2-2') || 'N/A'}}
            </td>
            <td title="{{(wov.V2RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text') || 'N/A'}}">
              {{(wov.V2RateTypeId | lookupNoCache: html.lists.rateTypeList: 'id': 'text') || 'N/A'}}
            </td>
            <td title="{{(wov.V2BillRate | number : '1.2-2') || 'N/A'}}">
              {{(wov.V2BillRate | number : '1.2-2') || 'N/A'}}
            </td>
            <td title="{{(wov.V2BillUnits | number : '1.2-2') || 'N/A'}}">
              {{(wov.V2BillUnits | number : '1.2-2') || 'N/A'}}
            </td>
            <td title="{{wov.TransactionStartDate | date:html.phxConstants.DateFormat.mediumDate || 'N/A'}}">
              {{wov.TransactionStartDate | date:html.phxConstants.DateFormat.mediumDate || 'N/A'}}
            </td>
            <td title="{{wov.TransactionEndDate | date:html.phxConstants.DateFormat.mediumDate || 'N/A'}}">
              {{wov.TransactionEndDate | date:html.phxConstants.DateFormat.mediumDate || 'N/A'}}
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>